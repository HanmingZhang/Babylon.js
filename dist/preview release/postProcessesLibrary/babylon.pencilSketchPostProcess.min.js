var __extends=this&&this.__extends||(function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),BABYLON;!(function(t){var e=(function(e){function n(n,r,i,c,h,o,a){var u=e.call(this,n,"pencilsketch",null,["brighttexture","darktexture"],i,c,h,o,a)||this;return u._brighttexture=null,u._darktexture=null,u._brighttexture=r[0]?new t.Texture(r[0],c.getScene(),!0):null,u._darktexture=r[1]?new t.Texture(r[1],c.getScene(),!0):null,u.onApplyObservable.add((function(t){t.setTexture("brighttexture",u._brighttexture),t.setTexture("darktexture",u._darktexture)})),u}return __extends(n,e),n})(t.PostProcess);t.pencilSketchPostProcess=e})(BABYLON||(BABYLON={})),BABYLON.Effect.ShadersStore.pencilsketchPixelShader="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform sampler2D brighttexture;\nuniform sampler2D darktexture;\nvec3 Hatching(vec2 uv,float intensity)\n{\nvec3 hatch0=texture2D(brighttexture,uv).rgb;\nvec3 hatch1=texture2D(darktexture,uv).rgb;\nfloat overbright=max(0,intensity-1.0);\nvec3 intensity3=vec3(intensity*6.0);\nvec3 weightsA=clamp(intensity3+vec3(-0,-1,-2),0,1);\nvec3 weightsB=clamp(intensity3+vec3(-3,-4,-5),0,1);\nweightsA.xy-=weightsA.yz;\nweightsA.z-=weightsB.x;\nweightsB.xy-=weightsB.yz;\nhatch0=hatch0*weightsA;\nhatch1=hatch1*weightsB;\nfloat hatching=overbright+hatch0.r+hatch0.g+hatch0.b+hatch1.r+hatch1.g+hatch1.b;\nreturn vec3(hatching);\n}\nvoid main(void) \n{\nvec3 color=texture2D(textureSampler,vUV).rgb;\nfloat intensity=dot(color,vec3(0.2326,0.7152,0.0722));\ncolor=Hatching(vUV.uv*8.0,intensity);\ngl_FragColor=vec4(color,1.0);\n}";